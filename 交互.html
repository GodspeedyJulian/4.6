<html>
<input id='host'></input>
<button onclick=con()>连接</button>
<br/><br/>
<input id='msg'></input>
<button onclick=send()>发送</button>
<div id="output" ></div>
<script>
function con()
{hostip = host.value
ws=new WebSocket("ws://"+hostip+":8764/")
ws.onopen = function(evt){writeToScreen("CONNECTED!")};
ws.onmessage = function(evt) {writeToScreen(evt.data);};
}
function send()
{message=msg.value;
ws.send(message);
}
function writeToScreen(message)
{var pre = document.creatElement("p");
pre.innerHTML = message;
output.appendChild(pre);
}
</script>
</html>